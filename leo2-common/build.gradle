buildscript {
    ext {
        v_jooq = "3.+"
        v_jersey = "2.+"
        v_jackson = "2.+"
        v_hk2 = "2.+"
        v_eclipselink = "2.+"
        v_spring = "4.+"
        v_querydsl = "3.+"
    }
}
apply plugin: 'java'
apply plugin: 'idea'
apply plugin: 'eclipse'

sourceCompatibility = 1.8
version = '1.0'

repositories {
    mavenCentral()
}

dependencies {
    // Webservice
    compile 'javax.ws.rs:javax.ws.rs-api:2.+'

    // Persistence
    compile 'org.eclipse.persistence:javax.persistence:2.+'

    // json doc
    compile 'com.wordnik:swagger-jersey2-jaxrs:+'

    testCompile group: 'junit', name: 'junit', version: '4.+'

    // Webservice client libraries for test cases
    testCompile 'org.glassfish.jersey.core:jersey-client:2.+'
    testCompile 'org.glassfish.jersey.ext:jersey-proxy-client:2.+'
    testCompile 'org.glassfish.jersey.media:jersey-media-json-jackson:2.+'

    // jackson JSON serializer
    testCompile 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.+'
    testCompile 'com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:2.+'

    // Webservice server libraries for test cases
    testCompile 'org.glassfish.jersey.containers:jersey-container-servlet:2.+'
    testCompile 'org.glassfish.jersey.media:jersey-media-json-jackson:2.+'
    testCompile 'org.glassfish.jersey.containers:jersey-container-grizzly2-http:2.+'
}

configurations.all {
    resolutionStrategy {
        // fail eagerly on version conflict (includes transitive dependencies)
        // e.g. multiple different versions of the same dependency (group and name are equal)
        failOnVersionConflict()

        force "com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:$v_jackson"
        force "com.fasterxml.jackson.jaxrs:jackson-jaxrs-base:$v_jackson"
        force "com.fasterxml.jackson.core:jackson-annotations:$v_jackson"
        force "com.fasterxml.jackson.core:jackson-core:$v_jackson"
        force "com.fasterxml.jackson.core:jackson-databind:$v_jackson"
        force "com.fasterxml.jackson.module:jackson-module-jaxb-annotations:$v_jackson"
        force "com.google.guava:guava:18.0"
        force "org.javassist:javassist:3.+"
        force "org.glassfish.hk2:hk2:$v_hk2"
        force "org.glassfish.hk2:hk2-api:$v_hk2"
        force "org.glassfish.hk2:hk2-locator:$v_hk2"
        force "org.glassfish.hk2:spring-bridge:$v_hk2"
        force "org.glassfish.hk2.external:javax.inject:$v_hk2"
        force "org.glassfish.jersey.containers:jersey-container-servlet-core:$v_jersey"
        force "org.glassfish.jersey.core:jersey-server:$v_jersey"
        force "org.springframework:spring-web:$v_spring"
        force "org.springframework:spring-core:$v_spring"
        force "org.springframework:spring-context:$v_spring"
        force "org.springframework:spring-orm:$v_spring"
        force "org.springframework:spring-beans:$v_spring"
        force "org.springframework:spring-tx:$v_spring"
        force "org.springframework:spring-aop:$v_spring"
        force "javax.servlet:javax.servlet-api:3.1.0"
        force "org.slf4j:slf4j-api:1.+"

        force "org.jooq:jooq-meta:$v_jooq"
        force "org.jooq:jooq-codegen:$v_jooq"
        force "org.apache.ant:ant:1.+"
        force "org.apache.ant:ant-launcher:1.+"
        force "xml-apis:xml-apis:1.+"

        force "org.jboss.logging:jboss-logging:3.+"
        force "org.jboss.logging:jboss-logging-annotations:1.+"
    }
}