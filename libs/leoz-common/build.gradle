sourceCompatibility = 1.8
version = '1.0'

apply plugin: 'kotlin'

buildscript {
    dependencies {
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$v_kotlin"
    }
}

configurations {
    provided {
        dependencies.all { dep ->
            configurations.default.exclude group: dep.group, module: dep.name
        }
    }
    compile.extendsFrom provided
}

dependencies {
    compile project(':libs:sx-common')
    compile project(':libs:sx-jms')

    // Watchservice replacement for OSX
    compile project(':libs:barbarywatchservice')

    // Kotlin
    compile "org.jetbrains.kotlin:kotlin-runtime:$v_kotlin"
    compile "org.jetbrains.kotlin:kotlin-stdlib:$v_kotlin"

    // logging
    compile "org.apache.commons:commons-lang3:$v_commons_lang"
    compile "ch.qos.logback:logback-classic:$v_logback"
    compile "org.slf4j:jcl-over-slf4j:$v_slf4j"

    compile "commons-io:commons-io:$v_commons_io"

    // javax
    compile "javax.ws.rs:javax.ws.rs-api:$v_javax_ws_rs"

    // persistence
    provided "org.eclipse.persistence:javax.persistence:$v_javax_persistence"

    // swagger for json doc
    provided "io.swagger:swagger-annotations:$v_swagger"
    provided "com.fasterxml.jackson.core:jackson-databind:$v_jackson"

    // messaging
    // ActiveMQ
    provided "org.apache.activemq:activemq-broker:$v_activemq"
    provided "org.apache.activemq:activemq-kahadb-store:$v_activemq"
    provided "org.apache.activemq:activemq-jms-pool:$v_activemq"
    provided "org.apache.activemq:activemq-jaas:$v_activemq"
    provided "org.apache.activemq:activemq-mqtt:$v_activemq"
    provided("org.apache.activemq:activemq-http:$v_activemq") {
        exclude group: 'org.springframework'
        exclude group: 'org.apache.activemq', module: 'activemq-spring'
        exclude group: 'org.eclipse.jetty.aggregate'
    }
    // http support
    provided "org.apache.httpcomponents:httpclient:$v_apache_httpclient"
    provided "com.thoughtworks.xstream:xstream:$v_xstream"

    compile "net.java.dev.jna:jna:$v_jna"
    compile "net.java.dev.jna:jna-platform:$v_jna"

    // SnakeYAML
    compile "org.yaml:snakeyaml:$v_snakeyaml"

    // spring
    provided ("org.springframework:spring-jms:$v_spring")

    testCompile group: 'junit', name: 'junit', version: v_junit

    // webservice client libraries for test cases
    testCompile "org.jboss.resteasy:resteasy-client:$v_resteasy"

    // jackson JSON serializer
    testCompile "com.fasterxml.jackson.datatype:jackson-datatype-jsr310:$v_jackson"
    testCompile "com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:$v_jackson"
}